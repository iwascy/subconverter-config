mixed-port: 7890
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

proxy-providers:
  TRANSIT_PROVIDER:
    type: http
    url: "https://example.com/sub"
    interval: 36000
    path: "./proxy_provider/transit.yaml"
    filter: "(?i)^TRANSIT-"
    health-check:
      enable: true
      url: "https://www.gstatic.com/generate_204"
      interval: 600

  EXIT_PROVIDER:
    type: http
    url: "https://example.com/sub"
    interval: 36000
    path: "./proxy_provider/exit.yaml"
    filter: "(?i)^EXIT-"
    # Apply chain dialing to every exit node in this provider.
    dialer-proxy: "TRANSIT"
    health-check:
      enable: true
      url: "https://www.gstatic.com/generate_204"
      interval: 600

  SELF_PROVIDER:
    type: http
    url: "https://example.com/sub"
    interval: 36000
    path: "./proxy_provider/self.yaml"
    filter: "(?i)(bwg|bagevm|self-hosted)"
    health-check:
      enable: true
      url: "https://www.gstatic.com/generate_204"
      interval: 600

  ALL_PROVIDER:
    type: http
    url: "https://example.com/sub"
    interval: 36000
    path: "./proxy_provider/all.yaml"
    health-check:
      enable: true
      url: "https://www.gstatic.com/generate_204"
      interval: 600

proxy-groups:
  # -- Base selector --
  - name: SELECT
    type: select
    proxies:
      - RELAY-CHAIN
      - HK Fallback
      - US Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - Self-Hosted
      - AUTO
      - DIRECT

  # -- Self-Hosted (EXIT nodes) --
  - name: Self-Hosted
    type: select
    use:
      - ALL_PROVIDER
    filter: "(?i)(bwg|bagevm|self-hosted)"

  # -- Chain core --
  - name: RELAY-CHAIN
    type: select
    proxies:
      - EXIT

  - name: TRANSIT
    type: select
    proxies:
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK

  - name: EXIT
    type: select
    use:
      - EXIT_PROVIDER

  - name: Youtube-Exit
    type: select
    use:
      - EXIT_PROVIDER

  # -- Transit region testing (TRANSIT nodes) --
  - name: TRANSIT-HK
    type: url-test
    use:
      - TRANSIT_PROVIDER
    filter: "(?i)(香港|港|Hong Kong|HK)"
    url: "http://cp.cloudflare.com/generate_204"
    interval: 30

  - name: TRANSIT-TW
    type: url-test
    use:
      - TRANSIT_PROVIDER
    filter: "(?i)(台湾|台|Taiwan|TW)"
    url: "http://cp.cloudflare.com/generate_204"
    interval: 30

  - name: TRANSIT-SG
    type: url-test
    use:
      - TRANSIT_PROVIDER
    filter: "(?i)(新加坡|坡|Singapore|SG)"
    url: "http://cp.cloudflare.com/generate_204"
    interval: 30

  - name: TRANSIT-JP
    type: url-test
    use:
      - TRANSIT_PROVIDER
    filter: "(?i)(日本|日|Japan|JP)"
    url: "http://cp.cloudflare.com/generate_204"
    interval: 30

  - name: TRANSIT-US
    type: url-test
    use:
      - TRANSIT_PROVIDER
    filter: "(?i)(美国|美|United States|US)"
    url: "http://cp.cloudflare.com/generate_204"
    interval: 30

  - name: TRANSIT-UK
    type: url-test
    use:
      - TRANSIT_PROVIDER
    filter: "(?i)(英国|英|United Kingdom|UK)"
    url: "http://cp.cloudflare.com/generate_204"
    interval: 30

  # -- Exit region testing (EXIT nodes) --
  - name: AUTO
    type: url-test
    use:
      - ALL_PROVIDER
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: HK
    type: url-test
    use:
      - ALL_PROVIDER
    filter: "(?i)(香港|港|Hong Kong|HK)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: TW
    type: url-test
    use:
      - ALL_PROVIDER
    filter: "(?i)(台湾|台|Taiwan|TW)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: SG
    type: url-test
    use:
      - ALL_PROVIDER
    filter: "(?i)(新加坡|坡|Singapore|SG)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: JP
    type: url-test
    use:
      - ALL_PROVIDER
    filter: "(?i)(日本|日|Japan|JP)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: US
    type: url-test
    use:
      - ALL_PROVIDER
    filter: "(?i)(美国|美|United States|US)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: UK
    type: url-test
    use:
      - ALL_PROVIDER
    filter: "(?i)(英国|英|United Kingdom|UK)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: HK Fallback
    type: fallback
    use:
      - ALL_PROVIDER
    filter: "(?i)(香港|港|Hong Kong|HK)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: US Fallback
    type: fallback
    use:
      - ALL_PROVIDER
    filter: "(?i)(美国|美|United States|US)"
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  # -- Application policy groups (mirroring relay.ini) --
  - name: YouTube
    type: select
    proxies:
      - Youtube-Exit
      - RELAY-CHAIN
      - HK Fallback
      - US Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - Self-Hosted
      - AUTO
      - SELECT
      - DIRECT

  - name: Telegram
    type: select
    proxies:
      - RELAY-CHAIN
      - HK Fallback
      - US Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - Self-Hosted
      - AUTO
      - DIRECT

  - name: TelegramSG
    type: select
    proxies:
      - SG
      - RELAY-CHAIN
      - HK Fallback
      - US Fallback
      - HK
      - TW
      - JP
      - US
      - UK
      - Self-Hosted
      - AUTO
      - DIRECT

  - name: TelegramUS
    type: select
    proxies:
      - US
      - RELAY-CHAIN
      - HK Fallback
      - US Fallback
      - HK
      - TW
      - SG
      - JP
      - UK
      - Self-Hosted
      - AUTO
      - DIRECT

  - name: OpenAI
    type: select
    proxies:
      - SELECT
      - US Fallback
      - US
      - JP
      - SG
      - TW
      - HK
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Claude
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Gemini
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Grok
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Perplexity
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: PikPak
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Google FCM
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Google
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Microsoft CN
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Microsoft
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: iCloud CN
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: iCloud
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Apple CN
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Apple
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Bilibili
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Streaming media
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Social Media CN
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Social Media
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Media CN
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Media
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Personal
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

  - name: Personal-Direct
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: Global Direct
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: CN Direct
    type: select
    proxies:
      - DIRECT
      - RELAY-CHAIN
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - SELECT

  - name: GFW
    type: select
    proxies:
      - SELECT
      - DIRECT

  - name: Final
    type: select
    proxies:
      - SELECT
      - HK Fallback
      - HK
      - TW
      - SG
      - JP
      - US
      - UK
      - TRANSIT-HK
      - TRANSIT-TW
      - TRANSIT-SG
      - TRANSIT-JP
      - TRANSIT-US
      - TRANSIT-UK
      - Self-Hosted
      - AUTO
      - RELAY-CHAIN
      - DIRECT

rule-providers:
  Bilibili:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/bilibili.yaml"
    path: ./ruleset/Bilibili.yaml
    interval: 86400

  Streaming_Netflix:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/netflix.yaml"
    path: ./ruleset/netflix.yaml
    interval: 86400

  Streaming_Hulu:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/hulu.yaml"
    path: ./ruleset/hulu.yaml
    interval: 86400

  Streaming_Disney:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/disney.yaml"
    path: ./ruleset/disney.yaml
    interval: 86400

  Streaming_HBO:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/hbo.yaml"
    path: ./ruleset/hbo.yaml
    interval: 86400

  Streaming_PrimeVideo:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/primevideo.yaml"
    path: ./ruleset/primevideo.yaml
    interval: 86400

  Streaming_YouTube:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/youtube.yaml"
    path: ./ruleset/youtube.yaml
    interval: 86400

  Streaming_Spotify:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/spotify.yaml"
    path: ./ruleset/spotify.yaml
    interval: 86400

  OpenAI:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/OpenAI.yaml"
    path: ./ruleset/OpenAi.yaml
    interval: 86400

  Claude:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Claude.yaml"
    path: ./ruleset/ClaudeAI.yaml
    interval: 86400

  Gemini:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Gemini.yaml"
    path: ./ruleset/Gemini.yaml
    interval: 86400

  Grok:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Grok.yaml"
    path: ./ruleset/Grok.yaml
    interval: 86400

  Perplexity:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Perplexity.yaml"
    path: ./ruleset/Perplexity.yaml
    interval: 86400

  PikPak:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/PikPak.yaml"
    path: ./ruleset/PikPak.yaml
    interval: 86400

  GoogleFCM:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/googlefcm.yaml"
    path: ./ruleset/googlefcm.yaml
    interval: 86400

  Google:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Google.yaml"
    path: ./ruleset/Google.yaml
    interval: 86400

  Microsoft_CN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/microsoft@cn.yaml"
    path: ./ruleset/microsoft_cn.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Microsoft.yaml"
    path: ./ruleset/microsoft.yaml
    interval: 86400

  iCloud_CN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/icloud@cn.yaml"
    path: ./ruleset/icloud_cn.yaml
    interval: 86400

  iCloud:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/icloud.yaml"
    path: ./ruleset/icloud.yaml
    interval: 86400

  Apple_CN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/apple@cn.yaml"
    path: ./ruleset/apple_cn.yaml
    interval: 86400

  Apple:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Apple.yaml"
    path: ./ruleset/apple.yaml
    interval: 86400

  TelegramSG:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/TelegramSG.yaml"
    path: ./ruleset/TelegramSG.yaml
    interval: 86400

  TelegramUS:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/TelegramUS.yaml"
    path: ./ruleset/TelegramUS.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/rules/Telegram.yaml"
    path: ./ruleset/Telegram.yaml
    interval: 86400

  Social_Media_CN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/category-social-media-cn.yaml"
    path: ./ruleset/social-media-cn.yaml
    interval: 86400

  Social_Communication:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/category-communication.yaml"
    path: ./ruleset/communication.yaml
    interval: 86400

  Social_Media_NotCN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/category-social-media-!cn.yaml"
    path: ./ruleset/social-media-notcn.yaml
    interval: 86400

  Zoom:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/zoom.yaml"
    path: ./ruleset/zoom.yaml
    interval: 86400

  Media_CN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/category-media-cn.yaml"
    path: ./ruleset/media-cn.yaml
    interval: 86400

  Media_Category:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/category-media.yaml"
    path: ./ruleset/media.yaml
    interval: 86400

  Media_Forums:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/zsfyi/V2rayDomains2Clash/generated/category-forums.yaml"
    path: ./ruleset/forums.yaml
    interval: 86400

  GFW:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/GFW.yaml
    interval: 86400

  Personal:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/Personal.list"
    path: ./ruleset/Personal.list
    interval: 86400

  Personal_Direct:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/iwascy/subconverter-config/main/Personal-Direct.list"
    path: ./ruleset/Personal-Direct.list
    interval: 86400

  ChinaDomain:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list"
    path: ./ruleset/ChinaDomain.list
    interval: 86400

  ChinaCompanyIp:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list"
    path: ./ruleset/ChinaCompanyIp.list
    interval: 86400

  Download:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list"
    path: ./ruleset/Download.list
    interval: 86400

# Adjust rules to your policy as needed.
rules:
  - RULE-SET,Bilibili,Bilibili
  - RULE-SET,Streaming_Netflix,Streaming media
  - RULE-SET,Streaming_Hulu,Streaming media
  - RULE-SET,Streaming_Disney,Streaming media
  - RULE-SET,Streaming_HBO,Streaming media
  - RULE-SET,Streaming_PrimeVideo,Streaming media
  - RULE-SET,Streaming_YouTube,YouTube
  - RULE-SET,Streaming_Spotify,Streaming media
  - RULE-SET,OpenAI,OpenAI
  - RULE-SET,Claude,Claude
  - RULE-SET,Gemini,Gemini
  - RULE-SET,Grok,Grok
  - RULE-SET,Perplexity,Perplexity
  - RULE-SET,PikPak,PikPak
  - RULE-SET,GoogleFCM,Google FCM
  - RULE-SET,Google,Google
  - RULE-SET,Microsoft_CN,Microsoft CN
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,iCloud_CN,iCloud CN
  - RULE-SET,iCloud,iCloud
  - RULE-SET,Apple_CN,Apple CN
  - RULE-SET,Apple,Apple
  - RULE-SET,TelegramSG,TelegramSG
  - RULE-SET,TelegramUS,TelegramUS
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Social_Media_CN,Social Media CN
  - RULE-SET,Social_Communication,Social Media
  - RULE-SET,Social_Media_NotCN,Social Media
  - RULE-SET,Zoom,Social Media
  - RULE-SET,Media_CN,Media CN
  - RULE-SET,Media_Category,Media
  - RULE-SET,Media_Forums,Media
  - RULE-SET,GFW,GFW
  - RULE-SET,Personal_Direct,Personal-Direct
  - RULE-SET,Personal,Personal
  - IP-CIDR,10.12.0.0/24,Global Direct
  - IP-CIDR,10.100.0.0/24,Global Direct
  - IP-CIDR,10.100.1.0/24,Global Direct
  - IP-CIDR,10.0.1.64/32,Global Direct
  - IP-CIDR,112.74.102.253/32,Global Direct
  - IP-CIDR,47.251.116.83/32,Global Direct
  - IP-CIDR,172.16.0.0/12,Global Direct
  - IP-CIDR,192.168.0.0/24,Global Direct
  - IP-CIDR,192.168.12.244/32,Global Direct
  - IP-CIDR,180.184.196.50/32,Global Direct
  - GEOIP,LAN,Global Direct
  - RULE-SET,ChinaDomain,CN Direct
  - RULE-SET,ChinaCompanyIp,CN Direct
  - RULE-SET,Download,CN Direct
  - GEOIP,CN,CN Direct
  - MATCH,Final
